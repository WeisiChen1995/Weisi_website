<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-01-04">
<meta name="description" content="When the Old Meets the New | When the Nature Meets the City">

<title>About Hangzhou | 韵味杭州 – Weisi’s website</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- academic icons -->

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

<!-- altmetric icons -->
<script type="text/javascript" src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>

<!-- fontawesome icons -->
<script src="https://kit.fontawesome.com/1392a7030f.js" crossorigin="anonymous"></script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Weisi’s website</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html"> 
<span class="menu-text">Project</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html"> 
<span class="menu-text">My blog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://x.com/ChenSophie16" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://github.com/WeisiChen1995/Weisi_website" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/in/weisi-chen-000334239/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#about-hangzhou" id="toc-about-hangzhou" class="nav-link active" data-scroll-target="#about-hangzhou">About Hangzhou</a></li>
  <li><a href="#hefang-street-河坊街" id="toc-hefang-street-河坊街" class="nav-link" data-scroll-target="#hefang-street-河坊街">Hefang Street (河坊街)</a></li>
  <li><a href="#beishan-st-北山街-lingering-snow-on-broken-bridge-断桥残雪-一条北山街半步民国史" id="toc-beishan-st-北山街-lingering-snow-on-broken-bridge-断桥残雪-一条北山街半步民国史" class="nav-link" data-scroll-target="#beishan-st-北山街-lingering-snow-on-broken-bridge-断桥残雪-一条北山街半步民国史">Beishan St (北山街) | Lingering Snow on Broken Bridge (断桥残雪)<br> &lt;一条北山街，半步民国史&gt;</a></li>
  <li><a href="#bai-causeway-白堤-最爱湖东行不足绿杨阴里白沙堤" id="toc-bai-causeway-白堤-最爱湖东行不足绿杨阴里白沙堤" class="nav-link" data-scroll-target="#bai-causeway-白堤-最爱湖东行不足绿杨阴里白沙堤">Bai Causeway (白堤) <br> &lt;最爱湖东行不足，绿杨阴里白沙堤&gt;</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">About Hangzhou | 韵味杭州</h1>
  <div class="quarto-categories">
    <div class="quarto-category">About Hangzhou</div>
    <div class="quarto-category">Hangzhou scenery</div>
  </div>
  </div>

<div>
  <div class="description">
    When the Old Meets the New | When the Nature Meets the City
  </div>
</div>


<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 4, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<center>
<img src="images/westlake3.png" width="100%">
</center>
<section id="about-hangzhou" class="level3">
<h3 class="anchored" data-anchor-id="about-hangzhou">About Hangzhou</h3>
<p><strong>Hangzhou (杭州)</strong> is the capital city of the Zhejiang providence. Nestled in the heart of eastern China, Hangzhou is a city where timeless charm meets vibrant modernity. Renowned for its breathtaking <strong>West Lake (西湖)</strong>, a symbol of natural beauty and serenity, Hangzhou has inspired poets and painters for centuries. Beyond its historic allure, the city thrives as a hub of innovation, home to global tech giant Alibaba and a burgeoning digital economy. With its harmonious blend of ancient temples, bustling markets, cutting-edge architecture, and verdant tea plantations, Hangzhou offers a captivating journey through history and progress.</p>
</section>
<section id="hefang-street-河坊街" class="level3">
<h3 class="anchored" data-anchor-id="hefang-street-河坊街">Hefang Street (河坊街)</h3>
<p><strong>Hefang Ancient Street (河坊街)</strong> is one of Hangzhou’s oldest and most iconic streets, tracing its origins back to the Southern Song Dynasty and reaching its peak prosperity in the Qing Dynasty. It serves as a vibrant window into the city’s rich cultural heritage, where the echoes of history come alive amidst a bustling modern scene. This historic pedestrian street is adorned with beautifully preserved Qing Dynasty-style architecture and is a treasure trove of traditional crafts, local delicacies, and cultural charm. Among its highlights is <strong>Huqingyutang(胡庆余堂)</strong>, a renowned traditional Chinese medicine (TCM) pharmacy and museum established in 1874. Additionally, artisans craft intricate calligraphy brushes, delicate silk umbrellas, and other traditional goods, while food stalls offer classic Hangzhou treats like beggar’s chicken (叫花鸡) and sweet osmanthus cake (桂花糕). Hefang Ancient Street is a unique journey through time, blending the allure of the past with the vitality of the present.</p>
<center>
<img src="images/hefangjie1.png" width="100%"> <img src="images/hefangjie2.png" width="100%">
</center>
<div style="font-size: 0.85em; text-align: left;">
<p>Hefang Street (河坊街): A historic street blending cultural heritage with modern vibrancy. Photo captured by Weisi on 4 Jan 2025.</p>
</div>
<center>
<img src="images/huqingyutang1.png" width="100%">
</center>
<div style="font-size: 0.85em; text-align: left;">
<p>The outer wall of Huqingyutang (胡庆余堂): A renowned traditional Chinese medicine pharmacy. Photo captured by Weisi on 4 Jan 2025.</p>
</div>
<center>
<img src="images/huqingyutang2.png" width="100%"> <img src="images/huqingyutang3.png" width="100%">
</center>
<div style="font-size: 0.85em; text-align: left;">
<p>The inside of Huqingyutang (胡庆余堂): It offers a diverse range of products including traditional Chinese medicines, health supplements, and herbal teas. Photo captured by Weisi on 4 Jan 2025.</p>
</div>
<center>
<img src="images/huqingyutang4.png" width="100%">
</center>
<div style="font-size: 0.85em; text-align: left;">
<p>Huqingyutang (胡庆余堂) clinics, which specialize in providing traditional Chinese medicine services. Photo captured by Weisi on 4 Jan 2025.</p>
</div>
<center>
<img src="images/hefangjie3.png" width="100%"> <img src="images/hefangjie4.png" width="100%"> <img src="images/hefangjie5.png" width="100%">
</center>
<video width="100%" height="60%" controls="">
<source src="Videos/hefangjie.mp4" type="video/mp4">
</video>
<div style="font-size: 0.85em; text-align: left;">
<p>Hefang Street (河坊街) offers an incredible variety of food, snacks and drinks. Photo captured by Weisi on 4 Jan 2025.</p>
</div>
<center>
<img src="images/hefangjie6.png" width="100%">
</center>
<p><span style="font-size: 0.85em;">景阳观 (Jingyangguan): A renowned brand specializing in traditional Chinese pickled vegetables, commonly known as 酱菜.</span></p>
<center>
<img src="images/yangtangfandian1.png" width="100%"> <img src="images/yangtangfandian2.png" width="100%">
</center>
<div style="font-size: 0.85em; text-align: left;">
<p>羊汤饭店 (Yang Tang Fan Dian), established in 1788 during the 53rd year of Emperor Qianlong’s reign, is one of Hangzhou’s oldest and most esteemed culinary establishments. When the Manchus arrived in Hangzhou, they avoided pork and instead opened a lamb-focused restaurant, which became known for its lamb-centric dishes. The restaurant’s signature offerings include 羊肉烧卖 (Lamb Shaomai) and 羊杂汤 (Lamb Offal Soup). Photo captured by Weisi on 4 Jan 2025.</p>
</div>
</section>
<section id="beishan-st-北山街-lingering-snow-on-broken-bridge-断桥残雪-一条北山街半步民国史" class="level3">
<h3 class="anchored" data-anchor-id="beishan-st-北山街-lingering-snow-on-broken-bridge-断桥残雪-一条北山街半步民国史">Beishan St (北山街) | Lingering Snow on Broken Bridge (断桥残雪)<br> &lt;一条北山街，半步民国史&gt;</h3>
<p><strong>Beishan Street (北山街)</strong> is a picturesque historic avenue that runs along the northern shore of the iconic West Lake. Known for its blend of natural beauty and cultural heritage, the street is lined with ancient trees, traditional Chinese architecture, and several historical sites, including former residences of notable figures and old temples. The area exudes a tranquil charm, making it a favorite spot for leisurely strolls, photography, and cultural exploration. Visitors often admire its cobblestone paths, scenic lake views, and the way it seamlessly combines modernity with history. Beishan Street is not just a thoroughfare but a journey into Hangzhou’s rich past, offering a serene retreat from the city’s bustling pace.</p>
<center>
<img src="images/beishanjie1.png" width="100%">
</center>
<p><span style="font-size: 0.85em;"><strong>北山街 (Beishan St) in the winter</strong>. Photo captured by Weisi on the 7 Jan 2025.</span></p>
<center>
<img src="images/beishanjie2.png" width="100%"> <img src="images/beishanjie3.png" width="100%">
</center>
<p><span style="font-size: 0.95em;"><strong>北山街 (Beishan St)</strong>, <strong>保叔塔 (Boshu Pagoda)</strong> in the winter. Photo captured by Weisi on 7 Jan 2025. The <strong>保叔塔 (Boshu Pagoda)</strong> is a historic and iconic landmark situated on <strong>宝石山 (Precious Stone Hill)</strong> near the northern shores of West Lake. Its origins trace back to <strong>五代十国 (Five Dynasties and Ten Kingdoms) period</strong>, build in 968. Historically, the pagoda served both a religious purpose - as a Buddhist structure, it symbolized blessings and peace. <br><br> Over the centuries, the <strong>Baoshu Pagoda</strong> has undergone multiple reconstructions due to damage from natural wear and conflicts. The most recent restoration was completed in the 20th century, ensuring its preservation for future generations.<br><br> The pagoda is renowned for its slender and elegant design, standing at 45.3 meters tall. Its architectural style is distinct, with a gracefully tapering structure that appears almost like a delicate needle pointing toward the sky. Hence, there is an old saying: “湖上两浮屠，宝石如美人，雷峰如老衲” (“The two pagodas on the lake, Baoshu like a beautiful woman, Leifeng like an old monk”).<br><br> Today, the Baoshu Pagoda remains a beloved feature of Hangzhou’s landscape, admired for its historical importance and the breathtaking views it offers of West Lake and the surrounding area. Its presence is a testament to the city’s long-standing cultural and architectural achievements. </span></p>
</section>
<section id="bai-causeway-白堤-最爱湖东行不足绿杨阴里白沙堤" class="level3">
<h3 class="anchored" data-anchor-id="bai-causeway-白堤-最爱湖东行不足绿杨阴里白沙堤">Bai Causeway (白堤) <br> &lt;最爱湖东行不足，绿杨阴里白沙堤&gt;</h3>
<center>
<img src="images/baidi.png" width="100%">
</center>
<p><span style="font-size: 0.85em;"> Photo captured by Weisi on January 7, 2025. <strong>Bai Causeway (白堤)</strong> in winter—a picturesque path lined with willow trees swaying gracefully in the wind. This serene scene evokes the timeless beauty of spring, when the causeway comes alive with vibrant willow trees, blooming flowers, and elegant bridges. Inspired by such scenery, the renowned Tang Dynasty poet <strong>Bai Juyi (白居易)</strong> penned the famous poem 《钱塘湖春行》 (Spring Walk by Qiantang Lake):</span></p>
<p>孤山寺北贾亭西，水面初平云脚低。<br> 几处早莺争暖树，谁家新燕啄春泥。<br> 乱花渐欲迷人眼，浅草才能没马蹄。<br> 最爱湖东行不足，绿杨阴里白沙堤。<br></p>
<p>(To the north of Gushan Temple and west of Jia Pavilion, <br> The water surface just leveled, with clouds hanging low.<br> Early orioles vie for warm trees, while new swallows peck at spring mud.<br> Wildflowers almost dazzle the eyes, and tender grass barely covers horse hooves.<br> I love strolling along the east side of the lake most,<br> Where green willows cast their shade over the white sandy causeway.) </p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.weisichen\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 <a href="https://github.com/WeisiChen1995/Weisi_CV/blob/main/cv-wc.pdf">CV</a> &nbsp;<a href="https://github.com/WeisiChen1995" target="blank"><i class="bi bi-github"></i></a> &nbsp;<a href="https://www.linkedin.com/in/weisi-chen-000334239/" target="blank"><i class="bi bi-linkedin"></i></a> &nbsp;<a href="https://scholar.google.com.au/citations?user=iCapTGoAAAAJ&amp;hl=en/" target="blank"><i class="ai ai-google-scholar fa-lg"></i></a> &nbsp;<a href="https://www.researchgate.net/profile/Weisi-Chen-3" target="blank"><i class="ai ai-researchgate fa-lg"></i></a> &nbsp;<a <br="">Site made with <i class="bi bi-heart-fill"></i>,  &nbsp;</a><a href="https://github.com/WeisiChen1995" target="blank"><i class="bi bi-github"></i></a>, and <a href="https://quarto.org/" target="_blank"><img src="https://quarto.org/favicon.png" width="12"> quarto</a><br>© 2025 Weisi Chen
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>